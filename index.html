<!doctype html>
<html>
<head>
<title>Country API</title>
<meta charset="utf-8"/>
<style>
		body {
			background-color: #e3d8d8;
		}
		h1 {
			text-align: center;
			font-style: Courier;
			font-size: 40px;
			font-style: italic;
		}
		p {
			text-align: center;
			font-style: Courier;
			font-size: 25px;
		}
		div {
			text-align: center;
			font-style: Courier;
			font-size: 25px;
		}
		a:link {
			color: #0000ff;
		}
		a:visited {
			color: #0000ff;
		}
		a:hover {
			color: #000;
		}
</style>
<script>
function getCountry() {

	request = new XMLHttpRequest();
	console.log("1 - request object created");
	 
	request.open("GET", "https://api.ip2country.info/ip?5.6.7.8", true);

	console.log("2 - opened request file");

	request.onreadystatechange = function() {
	console.log("3 - readystatechange event fired.");
	 
	if (request.readyState == 4 && request.status == 200) {
		result = request.responseText;
		//alert(result)
		country = JSON.parse(result);

		document.getElementById("data").innerHTML ="<b>Country is: </b>" + country["countryName"] + " " + country["countryEmoji"] + "<br>" + "<b>Alpha-2 country code is: </b>" + country["countryCode"] + "<br>" + "<b>Alpha-3 country code is: </b>" + country["countryCode3"];
	}

	else if (request.readyState == 4 && request.status != 200) {
		document.getElementById("data").innerHTML = "Something is wrong!  Check the logs to see where this went off the rails";
	}

	else if (request.readyState == 3) {
		document.getElementById("data").innerHTML = "Too soon!  Try again";
	}

	}
	// fire off the HTTP request
	request.send();
	console.log("4 - Request sent");
}
</script>
</head>

<body onload="getCountry()">
<h1>COUNTRY API</h1>
	<br><br>
	<div id="data">Loading...</div>
	<br><br>
	<p>
		<b>The API I selected is</b> IP 2 Country.<br><b>It generates the IP to a country </b>- in this case it is Germany.
	</p>
	<br>
	<p>
		<b>I found it on this website:</b> <a href="https://ip2country.info/">https://ip2country.info/</a>
	</p>
	<br>
	<p>
		<b>The options I used for the API request are</b> the country name, code, and emoji of the country's flag. 
	</p>
	<br>
	<p>
		<b>Applications where this API would be helpful: </b>
		<br><br>
		1. Providing the country's code 
		<br>
		2. Showing the country's flag
	</p>
</body>
</html>
